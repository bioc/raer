RHTSLIB_LIBS=$(shell "${R_HOME}/bin${R_ARCH_BIN}/Rscript" -e \
    'Rhtslib::pkgconfig("PKG_LIBS")')
RHTSLIB_CPPFLAGS=$(shell "${R_HOME}/bin${R_ARCH_BIN}/Rscript" -e \
    'Rhtslib::pkgconfig("PKG_CPPFLAGS")')

PKG_LIBS=$(RHTSLIB_LIBS)
PKG_CPPFLAGS=$(RHTSLIB_CPPFLAGS)

SOURCES = $(wildcard ext/*/*.c)
OBJECTS = regfile.o plp.o plp_data.o plp_utils.o init.o sc-plp.o $(SOURCES:.c=.o)

.PHONY: all clean

all: $(SHLIB)

clean:
	rm -f ext/*/*-ext.o
